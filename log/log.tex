\documentclass[a4paper]{article}
\usepackage[T1]{fontenc}
\usepackage[swedish]{babel}
\usepackage[kerning,spacing]{microtype}
\usepackage[charter]{mathdesign}
\usepackage{datetime}
\usepackage{hyperref}
\usepackage{verbatim}
\usepackage{algorithm}
\usepackage{algpseudocode}

\hyphenpenalty=100000
\title{Loggbok}
\author{Eric Arnebäck}
\date{}

% day, month,year
\newcommand{\dayheading}[3]{
  \section*{\formatdate{#1}{#2}{#3}}}

\begin{document}

\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}
\setlength{\parindent}{0pt}

\maketitle

\dayheading{1}{9}{2011}

Jag mötte idag min handledare Aref och började skriva i loggboken.

Det här projektarbetet kommer att handla om hur bildformat
är uppbyggda. Bildformat handlar egentligen bara om hur man får en lång
sekvens av nummer(som är hur all data lagras i en dator ) att
representera en bild.

Fokuset kommer att läggas på formatens uppbyggnad deras
kompressionsalgoritmer. Det är högst troligt att jag bara kommer att
hinna med tre bildformat: TGA, GIF och PNG. PNG är troligen vad
majoriteten av tiden kommer att spenderas på.

Arbetet kommer att vara strukturerat som en lärabok. I stället för att
råa fakta själlöst rabblas upp, ska fokuset ligga på att faktiskt
\textit{lära} läsaren något. Innehåller kommer att struktureras upp i
kapitel. Språket för den kommer att vara engelska för att så många som
möjligt ska kunna läsa den.

Jag hade redan startat arbetet i förväg innan jag hade börjat skriva i
den här loggboken. Jag har redan börjat arbeta på det första kapitlet i
boken. Det handlar om hur färger representeras i en dator.

För varje bildformat kommer jag att skriva ett program som tolkar
datan i en bildfil och dumpar den råa färgdatan och bildens egenskaper
i en fil.

Så här kommer det att se ut:

\begin{verbatim}
Width:2
Height:2
(255,255,255)(0,0,0)
(0,0,0)(255,255,255)
\end{verbatim}

Innan jag hade börjat skriva den här loggboken så hade jag redan
börjat jobba på programmet som gör det här uppgiften för TGA
formatet. Men än så länger analyserar programmet bara header-delen av
TGA-filer.

Jag har också de senaste dagarna letat efter källor och information om
hur kompressionsalgoritmer fungerar. Jag har hittat några bra källor som
jag har organiserat i en textfil.

Sedan igår natt har också arbetat på ett program som demonstrerar den
extremt simpla kompressionsalgoritmen RLE. Mer att läsa om denna
algoritm finns i den skriftliga delen av arbetet.

Och i dag slutförde jag även detta demoprogrammet.

\dayheading{2}{9}{2011}

För att göra de skriftliga delen och loggboken använder jag faktiskt
inte Word, utan \LaTeX. Jag föredrar \LaTeX för att det är extremt
flexibelt, producerar mycket vackrare dokument än Word och för att det
tilltalar mig mer programmerare. Om du inte vet vad \LaTeX så kan det
bli svårt att förklara det...

Detta är den bästa förklaring för den oinvigda som jag har hittat:

http://scottmcpeak.com/latex/whatislatex.html

Men i alla fall, idag listade jag ut hur jag kan skapa vackert
formatterade algoritmer i \LaTeX dokument. För detta använder jag ett
paket som heter \texttt{algorithmx}.

Här är till exempel Euklides algoritm för att finna största gemensamma
nämnaren av två tal:

\begin{algorithm}
  \caption{Euklides algoritm}
  \begin{algorithmic}[1]
    \Procedure{Euclid}{$a,b$}
      \State $r\gets a\bmod b$
      \While{$r\not=0$}
      \State $a\gets b$
      \State $b\gets r$
      \State $r\gets a\bmod b$
      \EndWhile
      \State \textbf{return} $b$
    \EndProcedure
  \end{algorithmic}
\end{algorithm}

Kapitel 2 i detta arbetet kommer att handla om
kompressionsalgoritmer. Jag har beskrivit hur RLE fungerar och har
även börjat skapat pseudokoden för den.

Fixade också flera fel och buggar i demoprogrammet för RLE.

\dayheading{3}{9}{2011}

Gjorde färdigt pseudokoden för RLE och spenderade även hel del tid med
att finputsa algoritmerna och att göra dem enklare att förstå.

Men jag berättade inte riktigt hela historen om RLE. Det finns en
bättre, mer effektiv,  version av RLE, som TGA använder. Denna bättre
version som TGA använder kommer vi att kalla RLE2 från och med nu.

Idag implementerade jag ett demoprogram för RLE2.

Hur mycket jag hade skrivit om digital färglära innan jag hade börjat
skriva den här logboken har jag ännu inte sagt. Men jag hade redan
fått tag på rätt så bra källor om ämnet. Jag hade skrivit om
RGB, alfakanaler och färgdjup. Idag renskrev jag sektionerna om de
här ämnena och gjorde några figurer för att förklara
bättre. Dessutom skrev jag idag en helt ny sektion om hur gråskala färg
representeras digitalt.

Idag fann jag äntligen lite tid till jobba på programmet som laddar
TGA filer. Och efter lite arbete kan den ladda okomprimerade
gråskalebilder. Men TGA formatet stödjer flera andra bildtyper som det
måste implementeras stöd för.

\dayheading{5}{9}{2011}

En bilds metadata beskriver saker som bildens skapare, datumet den
skapades, datum den har ändrats, bildkommentarer och så vidare.

Idag skrev jag koden som laddar metadatan från en TGA-fil.

Dessutom kan nu TGA-laddaren ladda \textit{komprimerade} gråskalebilder. TGA
använder som bekant RLE2 för sin kompression.

\dayheading{7}{9}{2011}

Efter dagens arbete kan TGA-laddaren ladda 24-bitars okomprimerade och
komprimerade true-color bilder. True-color betyder ungefär att
färgdatan finns direkt  i bilden och inte använder någon palett.

\dayheading{11}{9}{2011}

Ett litet framsteg idag också: lyckades efter lite problem lista ut
hur 32-bitars bilder lagrar sin färgdata och implementera stöd för att
ladda bilder med 32-bitars färgdjup.

\dayheading{12}{9}{2011}

Implementerade stöd för 16-bitars bilder i TGA-laddaren.

Att implementera stöd för bilder med paletter tog längre tid än jag
hade väntat, på grund utav att jag hade skapat flera irriterande
buggar under kodningen. Efter att ha fixat alla buggar kunde jag
äntligen implementera stöd för bilder med paletter. Med det här så har
jag täckt så mycket av TGA formatet som jag tycket att jag behöver
göra. Fortfarande finns det delar av TGA formatet jag inte täkt, men
de är obskyra och jag har aldrig träffat på några bilder som använder
dem.

Imorgon kommer jag att städa upp koden och fixa alla återstående
buggar om det finns några.

\dayheading{13}{9}{2011}

Städade upp koden för att göra den enklare att översätta till mer
generell pseudokod samt fixade flera buggar.

% TODO: this reamins

Resten av dagen planerade jag att dedicera till att beskriva TGA
formatet skriftligt. Men sen insåg jag att det skulle vara mycket
enklare för läsaren att förstå bildformat om jag först gick igenom hur de i
allmänhet är uppbyggda.

Jag började med ett beskriva ett imaginärt bildformat IM som har delar
som är gemensamma för \textit{alla} bildformat. På så sätt får läsaren en mycket
bättre allmän bild av bildformat.

Detta kommer att göra det så mycket enklare att förklara TGA formatet.

\dayheading{14}{9}{2011}

Förut var ordningen för kapitlen så här:

Renskrev och städade upp kapitlet om IM och gjorde det lite mer
lättförståerligt.

Jag har ännu inte disskuterat RLE2 i boken. Så idag skrev jag
introduktionen till RLE2 och förklarade algoritmen så väl jag
kunde. Nästa gång kommer jag även att skriva pseudokoden för den.

\dayheading{17}{10}{2011}

Gjorde ett högst preliminärt veckoschema för resten av projektet.

Letade efter källor som kommer att hjälpa mig att förstå GIF-formatet
och dess kompressionsalgoritm LZW. hittade flera bra källor och
organiserade dem i en textfil.

\dayheading{18}{10}{2011}

RLE2 koden har översatts till pseudokod. Jag har även gjort mitt bästa
för att förklara algoritmen skriftligt, men jag misstänker att
förklaringen behöver renskrivas ett flertal gånger, för en är rätt så
rörig.

Har påbörjat renskrivningen av det upp till nu skrivna materialet .

Först så har jag renskrivit för kapitel 1 om digital färglära. Jag lade
även till lite nytt material som handlar om färgmodellen CMYK.

Jag renskrev också kapitel 2(kapitlet om IM) och fixade ett
flertal syftningsfel och grammatikfel.

\dayheading{19}{10}{2011}

Har påbörjat den långa renskrivningen av kapitel 3, kapitlet om
kompression. Men kapitlet är i sig långt från klart och har bara täckt
en av de tre algoritmer jag vill gå igenom.

Men i alla fall, idag fann ett utmärkt källa för
kompressionsalgoritmer som kommer att vara mig användbar hela
projektet igenom: \textit{``Data Compression: The Complete
  Reference''}.

Nu när jag har en bra källa har jag introducerat ett nytt koncept:
datakompressionsratio.

Resten av dagen planerar jag att tillägna till att renskriva kapitel
3.


\end{document}