\documentclass[a4paper]{article}
\usepackage[T1]{fontenc}
\usepackage[swedish]{babel}
\usepackage[kerning,spacing]{microtype}
\usepackage[charter]{mathdesign}
\usepackage{datetime}
\usepackage{hyperref}
\usepackage{verbatim}
\usepackage{algorithm}
\usepackage{algpseudocode}

\hyphenpenalty=100000
\title{Log book}
\author{Eric Arnebäck}
\date{}

% day, month,year
\newcommand{\dayheading}[3]{
  \section*{\formatdate{#1}{#2}{#3}}}

\begin{document}

\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}
\setlength{\parindent}{0pt}

\maketitle

\dayheading{1}{9}{2011}

Jag mötte idag min handledare Aref.

Det här projektarbetet kommer att handla om hur bildformat
fungerar. Bildformat handlar egentligen bara om hur man får en lång
sekvens av nummer(som är hur all data lagras i en dayot ), att
representera en bild. Fokuset kommer att lägga på digital bild lära
och bildformats kompressionsalgortimer. Det är troligtvis att jag bara
kommer att hinna tre bildformnat: TGA, GIF och PNG. PNG är troligen
vad majoritet av tiden kommer att spenderas på.

Arbetet kommer att vara strukturerat som en lärabok. I stället för att
råa fakta själlöst rabblas upp ska fokuset ligga på att faktiskt
\textit{lära} läsaren något. Innehåller kommer att struktureras upp i
kapitel. Språket för den kommer att vara engelska för att så många som
möjligt ska kunna läsa den.

Jag hade redan startat arbetet i förväg innan jag hade börjat skriva
den här loggboken. Så jag har börjat arbeta på det första kapitlet i
boken. Det handlar om hur färger representeras i en dator.

För varje bildformat kommer jag att skriva ett program som tolkar data
i en bildfil och dumpar den råa färgdatan och bildens egenskaper i en
fil.

Som så här:

\begin{verbatim}
Width:2
Height:2
(1,1,1)(34,2,1)
(2,1,4)(5,3,1)
\end{verbatim}

Innan jag hade börjat skriva den här loggboken så hade jag redan
börjat jobba på programet som gör den här uppgiften för TGA
formatet. Men än så länger analyserar programmet bara header-delen av
TGA filer, vilken beskriver saker som hjälper programet med att ladda
färgdatan, för den inkluderar information som färgdjup, bred, höjd, etc.

Jag har också de senaste dagarna letat efter källor och infromation om
hur kompressionalgoritmer fungerar. Det är egentligen ett fält med
mycket invecklad matematik, men som tur så har bildformaten jag valt
inte så invecklade algoritmer.

Sedan igår natt har också arbetat på ett program som demonstrerar den
extremt simpla kompressionsalgoritmen RLE. Mer att läsa om denna
algoritm finns i den skriftliga delen av arbetet.

Och i dag slutförde jag även detta demoprogramet.

\dayheading{2}{9}{2011}

För att göra de skriftliga delern använder jag faktiskt inte Word,
utan \LaTeX. Om du inte vet vad \LaTeX så kan det bli svårt att
förklara det...

Mer att läsa om \LaTeX finns här: http://scottmcpeak.com/latex/whatislatex.html

Men i alla fall, idag listade jag ut hur jag kan skapa vackert
formatterade algoritmer i \LaTeX dokument. För detta använder jag ett
paket som heter  algorithmx.

Här är till exempel Euklides algoritm för att finna största gemensamma
nämnaren av två tal:

\begin{algorithm}
  \caption{Euklides algoritm}
  \begin{algorithmic}[1]
    \Procedure{Euclid}{$a,b$}
      \State $r\gets a\bmod b$
      \While{$r\not=0$}
      \State $a\gets b$
      \State $b\gets r$
      \State $r\gets a\bmod b$
      \EndWhile
      \State \textbf{return} $b$
    \EndProcedure
  \end{algorithmic}
\end{algorithm}

Kapitel 2 i detta arbetet kommer att handla om
kompressionsalgoritmer. I introduktionen till kompressionalgoritmer
kommer beskriver jag hur RLE fungerar och har även börjat skapat pseudokoden
för den.

Fixade också flera fel och buggar i demoprogrammet för RLE.

\dayheading{3}{9}{2011}

Gjorde färdigt pseudokoden för RLE och spendara även hel del tid med
att finputsa algoritmerna och att göra dem enklare att förstå

Men jag berättade inte riktigt hela historen om RLE. Det finns en
bättre version av RLE, låt oss kalla den RLE2, som TGA använder. Så
idag implementerarade jag även ett demoprogram som demontrerar RLE2.

Hur mycket jag hade skrivit om digital färglära innan jag hade börjat
skriva den här logboken har jag ännu inte sagt. Men jag hade redan
fått tag på rätt så bra källor om ämnet. Jag hade redan skrivit om
RGB, alpha kanaler och färgdjup. Idag renskrev jag sektionerna om de
här ämnena och gjorde några till figurer för att ytterligare förklara
bättre. Dessutom skrev jag idag en helt ny sektion om hur gråskalefärg
representeras digitalt.

Idag fann jag äntligen igen tid till jobba på programmet som laddar
TGA filer. Och efter lite arbete kan den ladda okomprimerade
grayskalebilder. Men det finns även en hel sorts bilder som den inte
kan ladda.

\dayheading{5}{9}{2011}

En bilds metadata beskriver saker som bildens skapare, datumet den
skapades, datum den har ändrats, bildkommentarer och så vidare. Idag
skrev jag koden som laddar metadatan från en TGA fil, vilket var för
mesta en rätt så tråkig process.

Dessutom kan nu TGA laddaren lada komprimerade gråskalebilder. TGA
använder som bekant RLE2 för sin kompression.

\dayheading{7}{9}{2011}

Efter dagens arbete kan TGA laddaren ladda 24-bitars okomprimerade och
komprimerade true color bilder. True color betyder ungefär att
färgdatan är direkt i bilden och inte använder någon palett.

\dayheading{11}{9}{2011}

Ett litet framsteg idag också: lyckades efter lite problem lista ut
hur 32-bitars bilder lagrar sin färgdata. Vad som är speciellt med det
här, är att i 32-bitar largras även en alpha kanal(opasitet).

\dayheading{12}{9}{2011}

Implementerade stöd för 16-bitars bilder i TGA-laddaren.

Att implementera stöd för bilder med paletter tog längre tid än jag
hade väntat, på grund utav att jag hade skapat flera buggar under
kodningen. Efter att ha fixat alla buggar kunde jag äntligen
implementera stöd för bilder med paletter. Med det här så har jag
täckt så mycket av TGA formatet som jag tycket att jag behöver
göra. Det finns delar laddaren ännu inte hanterar men dem är mycket
ovanliga och har inte förekommit i några av de TGA-bilder jag har fått
tag på.

Imorgon kommer jag att städa upp koden och fixa alla återstående
buggar, om det finns några.

\dayheading{13}{9}{2011}

Städade upp koden för att göra den enklare att översätta till mer
generel pseudokod och fixade flera buggar.

Resten av dagen planerade jag att dedikera till att beskriva TGA
formatet skriftligt. Men sen insåg jag att det skulle vara mycket
enklare för läsaren att förstå bildformat om jag först gick hur de i
allmänhet är uppbyggda.

Jag började ett beskriva ett imaginärt bildformat IM som har delar som
är gemensemma för bildformat. På så sätt för läsaren en mycket bättre
allmän bild av bildformat.

Detta kommer att göra det så mycket enklare att förklara TGA
formatet.

\dayheading{14}{9}{2011}

Förut var ordningen för kapiteln så här:

\begin{enumerate}
\item Digtal färg
\item Kompressionsalgoritmer
\item IM - det imaginära bildformatet
\item TGA
\item GIF
\item PNG
\end{enumerate}

Men idag så insåg jag att det vore mycket bättre om jag först i
kapitlet om IM introducerar det allmänna bildformatet och sen enkelt
motiverar varför kompressions algoritmer behövs och sen kommer
kapitlet om kompressionsalgoritmer. Så den nya ordningen är:

\begin{enumerate}
\item Digtal färg
\item IM - det imaginära bildformatet
\item Kompressionsalgoritmer
\item TGA
\item GIF
\item PNG
\end{enumerate}

Renskrev och städade upp kapitlet om IM idag och gjorde det lite mer
lättförståerligt.

Jag har ännu inte disskuterat RLE2 i boken. Så idag skrev jag
introduktionen till RLE2 och förklarade algoritmen så väl jag
kunde. Nästa gång kommer jag även att skriva pseudokoden för den.

\dayheading{14}{10}{2011}

Gjorde ett högst preliminärt veckoschema för resten av projektet.

Letade efter källor som kommer att hjälpa mig att förstå GIF-formatet
och dess kompressionsalgoritm LZW.

De organizerades i en textfil så här:

GIF:

\verbatiminput{../code/gif/links.org}

LZW:

\verbatiminput{../code/lzw/links.org}

\end{document}